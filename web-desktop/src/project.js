require=function e(t,r,i){function s(c,h){if(!r[c]){if(!t[c]){var p="function"==typeof require&&require;if(!h&&p)return p(c,!0);if(o)return o(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var n=r[c]={exports:{}};t[c][0].call(n.exports,function(e){var r=t[c][1][e];return s(r||e)},n,n.exports,e,t,r,i)}return r[c].exports}for(var o="function"==typeof require&&require,c=0;c<i.length;c++)s(i[c]);return s}({GameController:[function(e,t,r){"use strict";cc._RF.push(t,"54348E1VFFMtLf1DTdO+NGj","GameController"),cc.Class({extends:cc.Component,properties:{chessPrefab:{default:null,type:cc.Prefab},blackChessSpr:{default:null,type:cc.SpriteFrame},whiteChessSpr:{default:null,type:cc.SpriteFrame},chessNodeArr:{default:[],type:[cc.Node]},eachDownChess:{default:null,type:cc.Node,visible:!1},fiveGroupArr:[],fiveGroupScoreArr:[],gameState:"white"},onLoad:function(){for(var e=0;e<15;e++)for(var t=0;t<15;t++){var r=cc.instantiate(this.chessPrefab);this.node.addChild(r),r.setPosition(cc.p(20+40*t,20+40*e)),r.tag=15*e+t,r.on(cc.Node.EventType.TOUCH_END,function(e){this.eachDownChess=this,"black"==this.gameState&&null==this.getComponent(cc.Sprite).SpriteFrame&&(this.getComponent(cc.Sprite).SpriteFrame=this.blackChessSpr,this.judgeGameOver(),"white"==this.gameState&&this.scheduleOnce(function(){this.aiState()},1))}),this.chessNodeArr.push(r)}this.getFiveGroup()},judgeGameOver:function(){for(var e=this.eachDownChess.tag%15,t=parseInt(this.eachDownChess.tag/15),r=0,i=0;i<15;i++)this.chessNodeArr[15*t+i].getComponent(cc.Sprite).SpriteFrame==this.eachDownChess.getComponent(cc.Sprite).SpriteFrame?5==++r&&("white"==this.gameState?console.log("输"):console.log("赢")):r=0;r=0;for(i=0;i<15;i++)this.chessNodeArr[15*i+e].getComponent(cc.Sprite).SpriteFrame==this.eachDownChess.getComponent(cc.Sprite).SpriteFrame?5==++r&&("white"==this.gameState?console.log("输"):console.log("赢")):r=0;r=0;for(var s=e-t,i=0;i<15;i++)s+i<0&&s+i>14||(this.chessNodeArr[15*(s+i)+i].getComponent(cc.Sprite).SpriteFrame==this.eachDownChess.getComponent(cc.Sprite).SpriteFrame?5==++r&&("white"==this.gameState?console.log("输"):console.log("赢")):r=0);r=0;for(var o=e+t,i=0;i<15;i++)o-i<0&&o-i>14||(this.chessNodeArr[15*(o-i)+i].getComponent(cc.Sprite).SpriteFrame==this.eachDownChess.getComponent(cc.Sprite).SpriteFrame?5==++r&&("white"==this.gameState?console.log("输"):console.log("赢")):r=0);"white"==this.gameState?this.gameState="black":this.gameState="white"},aiState:function(){for(o=0;o<this.fiveGroupArr.length;o++){for(var e=0,t=0,r=0;r<5;r++)this.chessNodeArr[this.fiveGroupArr[o][r]].getComponent(cc.Sprite).SpriteFrame==this.blackChessSpr?e++:this.chessNodeArr[this.fiveGroupArr[o][r]].getComponent(cc.Sprite).SpriteFrame==this.whiteChessSpr&&t++;e+t==0?this.fiveGroupScoreArr[o]=7:e>0&&t>0?this.fiveGroupScoreArr[o]=0:0==e&&1==t?this.fiveGroupScoreArr[o]=10:0==e&&2==t?this.fiveGroupScoreArr[o]=100:0==e&&3==t?this.fiveGroupScoreArr[o]=1e3:0==e&&4==t?this.fiveGroupScoreArr[o]=1e4:1==e&&0==t?this.fiveGroupScoreArr[o]=9:2==e&&0==t?this.fiveGroupScoreArr[o]=90:3==e&&0==t?this.fiveGroupScoreArr[o]=900:4==e&&0==t&&(this.fiveGroupScoreArr[o]=9e3)}for(var i,s=0,o=0;o<this.fiveGroupScoreArr.length;o++)this.fiveGroupScoreArr[o]>s&&(s=this.fiveGroupScoreArr[o],i=o);for(var c,h=!1,p=!1,o=0;o<5;o++)if(p||null!=this.chessNodeArr[this.fiveGroupArr[i][o]].getComponent(cc.Sprite).SpriteFrame||(c=o),h||null==this.chessNodeArr[this.fiveGroupArr[i][o]].getComponent(cc.Sprite).SpriteFrame||(h=!0,p=!0),h&&null==this.chessNodeArr[this.fiveGroupArr[i][o]].getComponent(cc.Sprite).SpriteFrame){c=o;break}this.chessNodeArr[this.fiveGroupArr[i][c]].getComponent(cc.Sprite).SpriteFrame,this.whiteChessSpr,this.eachDownChess=this.chessNodeArr[this.fiveGroupArr[i][c]],this.judgeGameOver()},getFiveGroup:function(){for(r=0;r<15;r++)for(e=0;e<11;e++)this.fiveGroupArr.push([15*r+e,15*r+e+1,15*r+e+2,15*r+e+3,15*r+e+4]);for(e=0;e<15;e++)for(r=0;r<11;r++)this.fiveGroupArr.push([15*r+e,15*(r+1)+e,15*(r+2)+e,15*(r+3)+e,15*(r+4)+e]);for(t=-10;t<11;t++)for(var e=0;e<11;e++)t+e<0&&t+e>11||this.fiveGroupArr.push([15*(t+e)+e,15*(t+e+1)+e+1,15*(t+e+2)+e+2,15*(t+e+3)+e+3,15*(t+e+4)+e+4]);for(var t=4;t<22;t++)for(var r=0;r<11;r++)t-r<0&&t-r>11||this.fiveGroupArr.push([15*r+t-r,15*(r+1)+t-r-1,15*(r+2)+t-r-2,15*(r+3)+t-r-3,15*(r+4)+t-r-4])}}),cc._RF.pop()},{}],Game:[function(e,t,r){"use strict";cc._RF.push(t,"58b46CNhZFKeaFKaHHSHE1t","Game"),cc.Class({extends:cc.Component,properties:{overSprite:{default:null,type:cc.Sprite},overLabel:{default:null,type:cc.Label},chessPrefab:{default:null,type:cc.Prefab},chessList:{default:[],type:[cc.node]},whiteSpriteFrame:{default:null,type:cc.SpriteFrame},blackSpriteFrame:{default:null,type:cc.SpriteFrame},touchChess:{default:null,type:cc.Node,visible:!1},gameState:"white",fiveGroup:[],fiveGroupScore:[]},startGame:function(){cc.director.loadScene("Game")},toMenu:function(){cc.director.loadScene("Menu")},onLoad:function(){this.overSprite.node.x=1e4;for(var e=this,t=0;t<15;t++)for(i=0;i<15;i++){var r=cc.instantiate(this.chessPrefab);this.node.addChild(r),r.setPosition(cc.p(40*i+20,40*t+20)),r.tag=15*t+i,r.on(cc.Node.EventType.TOUCH_END,function(t){e.touchChess=this,"black"===e.gameState&&null===this.getComponent(cc.Sprite).spriteFrame&&(this.getComponent(cc.Sprite).spriteFrame=e.blackSpriteFrame,e.judgeOver(),"white"==e.gameState&&e.scheduleOnce(function(){e.ai()},1))}),this.chessList.push(r)}this.chessList[112].getComponent(cc.Sprite).spriteFrame=this.whiteSpriteFrame,this.gameState="black";for(t=0;t<15;t++)for(i=0;i<11;i++)this.fiveGroup.push([15*t+i,15*t+i+1,15*t+i+2,15*t+i+3,15*t+i+4]);for(i=0;i<15;i++)for(t=0;t<11;t++)this.fiveGroup.push([15*t+i,15*(t+1)+i,15*(t+2)+i,15*(t+3)+i,15*(t+4)+i]);for(s=-10;s<=10;s++)for(var i=0;i<11;i++)s+i<0||s+i>10||this.fiveGroup.push([15*(s+i)+i,15*(s+i+1)+i+1,15*(s+i+2)+i+2,15*(s+i+3)+i+3,15*(s+i+4)+i+4]);for(var s=4;s<=24;s++)for(t=0;t<11;t++)s-t<4||s-t>14||this.fiveGroup.push([15*t+s-t,15*(t+1)+s-t-1,15*(t+2)+s-t-2,15*(t+3)+s-t-3,15*(t+4)+s-t-4])},ai:function(){for(o=0;o<this.fiveGroup.length;o++){for(var e=0,t=0,r=0;r<5;r++)this.chessList[this.fiveGroup[o][r]].getComponent(cc.Sprite).spriteFrame==this.blackSpriteFrame?e++:this.chessList[this.fiveGroup[o][r]].getComponent(cc.Sprite).spriteFrame==this.whiteSpriteFrame&&t++;e+t==0?this.fiveGroupScore[o]=7:e>0&&t>0?this.fiveGroupScore[o]=0:0==e&&1==t?this.fiveGroupScore[o]=35:0==e&&2==t?this.fiveGroupScore[o]=800:0==e&&3==t?this.fiveGroupScore[o]=15e3:0==e&&4==t?this.fiveGroupScore[o]=8e5:0==t&&1==e?this.fiveGroupScore[o]=15:0==t&&2==e?this.fiveGroupScore[o]=400:0==t&&3==e?this.fiveGroupScore[o]=1800:0==t&&4==e&&(this.fiveGroupScore[o]=1e5)}for(var i=0,s=0,o=0;o<this.fiveGroupScore.length;o++)this.fiveGroupScore[o]>i&&(i=this.fiveGroupScore[o],s=o);for(var c=!1,h=!1,p=0,o=0;o<5;o++)if(c||null!=this.chessList[this.fiveGroup[s][o]].getComponent(cc.Sprite).spriteFrame||(p=o),h||null==this.chessList[this.fiveGroup[s][o]].getComponent(cc.Sprite).spriteFrame||(c=!0,h=!0),h&&null==this.chessList[this.fiveGroup[s][o]].getComponent(cc.Sprite).spriteFrame){p=o;break}this.chessList[this.fiveGroup[s][p]].getComponent(cc.Sprite).spriteFrame=this.whiteSpriteFrame,this.touchChess=this.chessList[this.fiveGroup[s][p]],this.judgeOver()},judgeOver:function(){for(var e=this.touchChess.tag%15,t=parseInt(this.touchChess.tag/15),r=0,i=0;i<15;i++)if(this.chessList[15*t+i].getComponent(cc.Sprite).spriteFrame===this.touchChess.getComponent(cc.Sprite).spriteFrame){if(5==++r)return"black"===this.gameState?(this.overLabel.string="你赢了",this.overSprite.node.x=0):(this.overLabel.string="你输了",this.overSprite.node.x=0),void(this.gameState="over")}else r=0;r=0;for(var s=0;s<15;s++)if(this.chessList[15*s+e].getComponent(cc.Sprite).spriteFrame===this.touchChess.getComponent(cc.Sprite).spriteFrame){if(5==++r)return"black"===this.gameState?(this.overLabel.string="你赢了",this.overSprite.node.x=0):(this.overLabel.string="你输了",this.overSprite.node.x=0),void(this.gameState="over")}else r=0;var o=t-e;r=0;for(i=0;i<15;i++)if(!(o+i<0||o+i>14))if(this.chessList[15*(o+i)+i].getComponent(cc.Sprite).spriteFrame===this.touchChess.getComponent(cc.Sprite).spriteFrame){if(5==++r)return"black"===this.gameState?(this.overLabel.string="你赢了",this.overSprite.node.x=0):(this.overLabel.string="你输了",this.overSprite.node.x=0),void(this.gameState="over")}else r=0;o=t+e,r=0;for(i=0;i<15;i++)if(!(o-i<0||o-i>14))if(this.chessList[15*(o-i)+i].getComponent(cc.Sprite).spriteFrame===this.touchChess.getComponent(cc.Sprite).spriteFrame){if(5==++r)return"black"===this.gameState?(this.overLabel.string="你赢了",this.overSprite.node.x=0):(this.overLabel.string="你输了",this.overSprite.node.x=0),void(this.gameState="over")}else r=0;"black"===this.gameState?this.gameState="white":this.gameState="black"}}),cc._RF.pop()},{}],Menu:[function(e,t,r){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","Menu"),cc.Class({extends:cc.Component,startGame:function(){cc.director.loadScene("Game")}}),cc._RF.pop()},{}]},{},["Game","GameController","Menu"]);